<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>For Fun on Web Portfolio of John Westhoff</title>
    <link>https://www.johnbot.me/categories/for-fun/</link>
    <description>Recent content in For Fun on Web Portfolio of John Westhoff</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sun, 07 Aug 2016 01:52:00 -0400</lastBuildDate>
    <atom:link href="https://www.johnbot.me/categories/for-fun/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>An Arcade Machine (Mostly) From Scratch</title>
      <link>https://www.johnbot.me/post/arcademachine/</link>
      <pubDate>Sun, 07 Aug 2016 01:52:00 -0400</pubDate>
      
      <guid>https://www.johnbot.me/post/arcademachine/</guid>
      <description>&lt;p&gt;This project is one that has been in development for a few years now, and it probably
won&amp;rsquo;t be finished for a few more. It is one that has grown in scope considerably, and
is really the result of several smaller projects. Currently, the end goal is to have
a fully working arcade machine of my very own - running a game I wrote on hardware I built.&lt;/p&gt;

&lt;p&gt;The project began at the end of grade school when I decided to try making my own fighting game.
I got far enough, and ended with a simple game with three characters. I revisited the game
at the end of high school when I decided to make it about my highschool robotics team,
&lt;a href=&#34;http://www.robovikings.com&#34;&gt;The Fighting RoboVikings&lt;/a&gt;. I got a few of the team members to design
characters, and I started adding them to the game. (It quickly became an arms race to make
the most unfair character, but that didn&amp;rsquo;t bother me.)&lt;/p&gt;

&lt;p&gt;It is here that I decided that it would be really cool to turn the game into an arcade machine,
so I got to work planning out the machine.&lt;/p&gt;

&lt;p&gt;I started by making the control panel. I ordered some
&lt;a href=&#34;http://www.ebay.com/itm/HAPP-Arcade-Control-Panel-Kit-your-choice-of-HAPP-14-Push-Buttons-2-Joystick-/251343306708?hash=item3a853a7fd4&#34;&gt;arcade supplies&lt;/a&gt;, as well as a &lt;a href=&#34;https://store.ti.com/Tiva-C-LaunchPad.aspx&#34;&gt;TI Stellaris Launchpad&lt;/a&gt;
(Links to the successor, the Tiva-C launchpad, as the Stellaris is now defunct.) I modified the example
USB keyboard code, and I used Microsoft Word (of all programs&amp;hellip;) to make the button layout.&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;buttonlayout.png&#34; alt=&#34;Why&amp;#39;d I use Microsoft Word for this? Why only five buttons? These are my only regrets.&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;p&gt;
        Why&amp;#39;d I use Microsoft Word for this? Why only five buttons? These are my only regrets.
        
            
        
        &lt;/p&gt; 
    &lt;/figcaption&gt;
    
&lt;/figure&gt;


&lt;p&gt;With the buttons and joysticks laid out, I got to work cutting and drilling a piece of, um, well,
I don&amp;rsquo;t know exactly what kind of plastic it is, but the office had lots of sheets lying around that
they said I could use, and, well, anything free is automatically the best value. Once I was done,
I installed the arcade components.&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;panel1.png&#34; alt=&#34;I bought all the spade connectors my local Radio Shack had for this...&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;p&gt;
        I bought all the spade connectors my local Radio Shack had for this...
        
            
        
        &lt;/p&gt; 
    &lt;/figcaption&gt;
    
&lt;/figure&gt;



&lt;figure &gt;
    
        &lt;img src=&#34;panel2.png&#34; alt=&#34;Wiring came next. I know I disappointed at least three people with this rat&amp;#39;s nest, but I was excited.&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;p&gt;
        Wiring came next. I know I disappointed at least three people with this rat&amp;#39;s nest, but I was excited.
        
            
        
        &lt;/p&gt; 
    &lt;/figcaption&gt;
    
&lt;/figure&gt;



&lt;figure &gt;
    
        &lt;img src=&#34;tryingitout.png&#34; alt=&#34;I was eager to test it. The first game played? X-Men, because who can say no to the Master of Magnet.&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;p&gt;
        I was eager to test it. The first game played? X-Men, because who can say no to the Master of Magnet.
        
            
        
        &lt;/p&gt; 
    &lt;/figcaption&gt;
    
&lt;/figure&gt;


&lt;p&gt;Once everything worked, I took an old Compaq CRT monitor and my control panel and took some measurements. Using those,
I drew up some parts in &lt;a href=&#34;http://www.ptc.com/cad/creo/parametric&#34;&gt;CREO Parametric&lt;/a&gt;.&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;crtsize.png&#34; alt=&#34;I just wish the CRT was a bit bigger...&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;p&gt;
        I just wish the CRT was a bit bigger...
        
            
        
        &lt;/p&gt; 
    &lt;/figcaption&gt;
    
&lt;/figure&gt;


&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;crtdepth.png&#34; alt=&#34;Err, maybe not.&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;p&gt;
        Err, maybe not.
        
            
        
        &lt;/p&gt; 
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;

&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;panelsize.png&#34; alt=&#34;I don&amp;#39;t know why I had to measure this either.&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;p&gt;
        I don&amp;#39;t know why I had to measure this either.
        
            
        
        &lt;/p&gt; 
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;

&lt;p&gt;I printed out drawings for each part and bought some 2x4s from Home Depot. My neighbor had a yard sale and sold me
a chop saw for $10 (what perfect timing!), and I cut out all the pieces, and a few friends and I spent a warm summer
night screwing them together. I took an old, broken, Windows XP Dell laptop, locked it down, uninstalled almost everything, and set it up to auto login and auto start my game. Oh, and when I say I uninstalled almost everything,
I meant the hardware, too. It has no screen half and no DVD reader, as those aren&amp;rsquo;t things arcade machines need.&lt;/p&gt;

&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;lappy.png&#34; alt=&#34;I think it fell down the stairs once, so the screen was already mostly broken off.&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;p&gt;
        I think it fell down the stairs once, so the screen was already mostly broken off.
        
            
        
        &lt;/p&gt; 
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;

&lt;p&gt;Last week, I added supports for the CRT and set everything up. I ordered some speakers from Amazon, and it has
been running in my room ever since. My friends and I played a few rounds and remembered our high school days, and
then laughed at some absurd glitches that I now have to leave in.&lt;/p&gt;

&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;lastweek.png&#34; alt=&#34;The machine as of last week.&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;p&gt;
        The machine as of last week.
        
            
        
        &lt;/p&gt; 
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;

&lt;p&gt;The source for the unfinished game is available &lt;a href=&#34;https://www.dropbox.com/s/yrcn0o2q5vyxc9o/fighting.gm81?dl=0&#34;&gt;in my Dropbox&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The source for the Stellaris Launchpad which handles the arcade buttons and joysticks
is available &lt;a href=&#34;https://1drv.ms/f/s!AvygQw6LWI-Xg9IkRCoJd-C3BA9e1A&#34;&gt;in my OneDrive&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The CREO Parametric files for the machine frame are also available &lt;a href=&#34;https://1drv.ms/f/s!AvygQw6LWI-XgvdcD70bq_TbV7BHyQ&#34;&gt;in my OneDrive&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Multiplayer Spaceship Game</title>
      <link>https://www.johnbot.me/post/vrremake/</link>
      <pubDate>Sun, 17 Jul 2016 23:24:00 -0400</pubDate>
      
      <guid>https://www.johnbot.me/post/vrremake/</guid>
      <description>

&lt;p&gt;Back between 2008 and 2011, I spent a fair bit of time on
&lt;a href=&#34;www.funorb.com&#34;&gt;FunOrb&lt;/a&gt;.
One of their most interesting games was their last official release,
&lt;a href=&#34;http://www.funorb.com/info.ws?game=voidhunters&#34;&gt;Void Hunters&lt;/a&gt;.
Unfortunately, FunOrb did not last much longer than that, as there has only been
a small handful of updates since then, and with the death of NPAPI Plugins, the
Java-based gaming site has virtually no chance of being revived.&lt;/p&gt;

&lt;p&gt;Some time around my freshman year at Notre Dame, I decided that it would be fun
to recreate the game. As a huge fan of split screen gaming, my version would not
be online, but rather it would be played with a shared split screen and several
XBOX 360 controllers.&lt;/p&gt;

&lt;h2 id=&#34;anything-interesting-about-it:532fe2ef5e90928298cc7a64fdd6eb1e&#34;&gt;Anything Interesting About It?&lt;/h2&gt;

&lt;p&gt;Maybe.&lt;br /&gt;
The game itself essentially broke everything into two groups -
Entities (such as bullets, stars, asteroids, and nebula)
and Components (things that make up ships, like hull pieces
and thrusters). The Components are the more interesting of the two, as they
collectively form a symmetric directed graph. There are container pieces,
such as hulls, that can have other components attached to them as well
as be attached to other pieces, and other components that can only be attached.
Container pieces each contain references to their attached pieces, and
all pieces contain references to their holders. This makes it easy
for any one component to affect its holder (for instance, a thruster
adds impulse to its holder) and for any holder to affect its components (for
example, a blown up hull might destroy all of its components).&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;bam.png&#34; alt=&#34;The game looks pretty, if I do say so myself.&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;p&gt;
        The game looks pretty, if I do say so myself.
        
            
        
        &lt;/p&gt; 
    &lt;/figcaption&gt;
    
&lt;/figure&gt;


&lt;h2 id=&#34;any-problems:532fe2ef5e90928298cc7a64fdd6eb1e&#34;&gt;Any Problems?&lt;/h2&gt;

&lt;p&gt;Yes.&lt;br /&gt;
Using Java might have been a mistake, as I might have gotten better performance
out of C or C++. The game has pretty big performance issues, especially with
rather large ships colliding, and this is with just two people.
I also should have learned a bit more about graph theory before
starting, as I hadn&amp;rsquo;t even had an introduction to it before, and perhaps I would
have written things a bit more efficiently had I done it today with more knowledge.
Learning more OpenGL would have also been a big plus, since it was my first time
using the library. I also wish I had documented things more thoroughly.
I may restart the project, if I have the time.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/JohnathonNow/VH-Remake&#34;&gt;The source is available on my GitHub.&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Embedding Audio With Audacity</title>
      <link>https://www.johnbot.me/post/firstaudacityplugin/</link>
      <pubDate>Sun, 10 Jul 2016 05:51:53 -0400</pubDate>
      
      <guid>https://www.johnbot.me/post/firstaudacityplugin/</guid>
      <description>

&lt;p&gt;A friend came to me with a request to create an &lt;a href=&#34;http://www.audacityteam.org/&#34;&gt;Audacity&lt;/a&gt; plugin that,
given two stereo audio tracks, takes the second audio track and ensures that it stays
X decibels below the first audio track.&lt;/p&gt;

&lt;p&gt;The project did not take long after establishing just what it means for a track to be quieter
than another, despite me having never written anything in a LISP dialect
(Audacity uses Nyquist/XLISP) and some of the oddities of Audacity that I will describe below.&lt;/p&gt;

&lt;h2 id=&#34;quieter-audio:83c068686d9ce68651d7f4789470e27a&#34;&gt;Quieter Audio&lt;/h2&gt;

&lt;p&gt;Digital audio is more or less stored as a collection of samples of a sound wave, with many
discrete points used to approximate a continuous waveform. The friend who asked me to do the
project told me that what I should do is set every sample in the second track to the
corresponding sample in the first track minus X. This is not at all what was actually wanted,
however, as that would merely produce the first track but X decibels quieter - it would not
matter what the second track was, it would be entirely overwritten.&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;starting_waveform.png&#34; alt=&#34;My set of starting waveforms (in order of Track 1 Left, Track 1 Right, Track 2 Left, Track 2 Right). Track 1 was generated as a 440 Hz sine wave with some fading to shape it, while Track 2 was generated as a 4400 Hz uniform sine wave.&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;p&gt;
        My set of starting waveforms (in order of Track 1 Left, Track 1 Right, Track 2 Left, Track 2 Right). Track 1 was generated as a 440 Hz sine wave with some fading to shape it, while Track 2 was generated as a 4400 Hz uniform sine wave.
        
            
        
        &lt;/p&gt; 
    &lt;/figcaption&gt;
    
&lt;/figure&gt;


&lt;p&gt;Instead what I aimed to do was approximate the &amp;ldquo;loudness&amp;rdquo; over time by taking the absolute
value of the waveform (so it is always positive), multiplying the waveform by the sqrt(2)
(to keep it closer to the peaks of the waveform), and passing it through a &lt;a href=&#34;https://en.wikipedia.org/wiki/Low-pass_filter&#34;&gt;low-pass filter&lt;/a&gt; (to essentially make it a rolling average).&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;rms_lowpassed_waveform.png&#34; alt=&#34;The result of my loudness function. Note that it approximates the &amp;#39;shape&amp;#39; and &amp;#39;size&amp;#39; of the prior waveforms.&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;p&gt;
        The result of my loudness function. Note that it approximates the &amp;#39;shape&amp;#39; and &amp;#39;size&amp;#39; of the prior waveforms.
        
            
        
        &lt;/p&gt; 
    &lt;/figcaption&gt;
    
&lt;/figure&gt;


&lt;h2 id=&#34;audacity-oddities:83c068686d9ce68651d7f4789470e27a&#34;&gt;Audacity Oddities&lt;/h2&gt;

&lt;p&gt;Audacity plugins are extremely powerful, but there are a few things that can bite you,
especially since Audacity does not natively support running a plugin on multiple tracks.
When you run a plugin on multiple tracks, in runs the plugin sequentially on each track,
one at a time.
For my use, editing a track based on another, this was a problem.
There are two variables that can help solve this, however:
1. The &lt;em&gt;TRACK&lt;/em&gt; environmental variable, which has an INDEX property. This property tells which
track the plugin is currently running on. &lt;em&gt;TRACK&lt;/em&gt; also contains the data for the current sound.&lt;br /&gt;
2. The &lt;em&gt;SCRATCH&lt;/em&gt; environmental variable, which is the only usable persistent variable for passing
data between tracks.&lt;/p&gt;

&lt;p&gt;My first instinct was to use the &lt;em&gt;TRACK&lt;/em&gt; INDEX property to get the loudness waveform from
the first track and store it in the &lt;em&gt;SCRATCH&lt;/em&gt; variable. It turns out, however, that Audacity
sounds are just references, and they are cleared after each run of the plugin!&lt;br /&gt;
My next thought was to save the waveform as an array of samples, but that would be several
hundred megabytes worth of memory, which isn&amp;rsquo;t really acceptable.&lt;br /&gt;
My solution to this, then, was to loop over the loudness waveform and fill a list with the changes
in loudness as well as the time the change occured. In the second track, I would then recreate
the loudness waveform from that list. It turns out, Audacity already has a function for doing so -
the &lt;code&gt;pwl-list&lt;/code&gt; function. This saved me from having to write my own.&lt;/p&gt;

&lt;h2 id=&#34;modifying-the-second-track:83c068686d9ce68651d7f4789470e27a&#34;&gt;Modifying the Second Track&lt;/h2&gt;

&lt;p&gt;After recreating the loudness of the first track, I find the loudness of the second. By subtracting
the two (expressed in decibel form rather than linear) with an offset of X db added to the second track,
converting the result back to a linear scale and multiply it by the second track, I am able to ensure
that the loudness of the second track mirros the loudness of the first, offset by X db. This works because the decibel unit is logarithmic, and one property
of logarithms is log(x) + log(y) = log(x*y). So, to change an amplitude X by Y
units, we subtract the two and multiply X by the result expressed back in linear
form.&lt;/p&gt;

&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;end_waveform.png&#34; alt=&#34;The final set of waveforms. Notice that the second set of waveforms has a similar shape to the first set, while still keeping its musical properties (in this case, pitch). Perhaps a real song sample would show the results better - perhaps I will update the article with some public domain songs.&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;p&gt;
        The final set of waveforms. Notice that the second set of waveforms has a similar shape to the first set, while still keeping its musical properties (in this case, pitch). Perhaps a real song sample would show the results better - perhaps I will update the article with some public domain songs.
        
            
        
        &lt;/p&gt; 
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;

&lt;p&gt;What I&amp;rsquo;ve done is not even close to being perfect, but it doesn&amp;rsquo;t really need to be. I feel it was
a good introduction to a LISP dialect, and my friend was happy with the results.&lt;/p&gt;

&lt;p&gt;The full code is available in this gist:&lt;br /&gt;
&lt;script src=&#34;https://gist.github.com/JohnathonNow/daaa8749a40215b29c51fc6845af0743.js&#34;&gt;&lt;/script&gt;
&lt;a href=&#34;https://gist.github.com/JohnathonNow/daaa8749a40215b29c51fc6845af0743&#34;&gt;Direct link&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>(M)adlib Filler Outer</title>
      <link>https://www.johnbot.me/post/adlib/</link>
      <pubDate>Sat, 09 Apr 2016 02:02:53 -0400</pubDate>
      
      <guid>https://www.johnbot.me/post/adlib/</guid>
      <description>&lt;p&gt;A simple PHP program for filling out blanks in a madlib.&lt;/p&gt;

&lt;p&gt;WORDS&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Wolfrat Chatbot</title>
      <link>https://www.johnbot.me/post/wolfratbot/</link>
      <pubDate>Tue, 05 Apr 2016 01:18:53 -0400</pubDate>
      
      <guid>https://www.johnbot.me/post/wolfratbot/</guid>
      <description>&lt;p&gt;My friends and I primarily communicate through a &lt;a href=&#34;https://groupme.com&#34;&gt;GroupMe&lt;/a&gt; chat that we named &lt;strong&gt;Wolfrat&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;To liven the place up, I thought I would add a chatbot.&lt;/p&gt;

&lt;p&gt;So, I quickly threw together (over a day or so) WolfratBot, which uses the
GroupMe bot API. The API HTTP POSTS a given callback URL, which is set to
a &lt;a href=&#34;https://en.wikipedia.org/wiki/Web_Server_Gateway_Interface&#34;&gt;WSGI&lt;/a&gt;
script that decides on the appropriate reply.&lt;br /&gt;
The program is very modular, and new functionality can be added without
disrupting any other modules.&lt;/p&gt;

&lt;p&gt;A simple exchange follows:&lt;br /&gt;
&lt;img src=&#34;20160425_224532.png&#34; alt=&#34;png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;The source is available on my &lt;a href=&#34;https://github.com/JohnathonNow/wolfratbot&#34;&gt;github&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>